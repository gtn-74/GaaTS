# 「プログラマー脳」を読んだ。

## はじめに

最近やっと、人のコードを読む経験をしたが、全然読めない。

でも、コード書いた本人より、読むのが早い人も沢山いると思った。

なんで？？経験値の差と言われたらそれまでだけど、今のまま自分のコードだけ書いてても絶対に、コード読解力高まらない。

と、考えてた時に、この記事を思い出した。

- [現役エンジニアが勧める！イチオシ技術本 5 選](https://www.wantedly.com/companies/ysinc/post_articles/894620)

どんな思考プロセス踏んでるんだろうと思い読み始めたことを書きまとめる。

## part 1・part 2 を読んだ

本が届いた初日。下の 2 パートを熟読。

- _part 1:コードをよりよく読むために_
- _part 2:コードを速読する_

### 所感

めっちゃ良い。

最近読んだ、ビリギャルの本「私はこうして勉強にハマった。」でも触れてた記憶プロセス、種類について紹介されてた。

こっちの方が、エンジニア向けってこともあり、ロジカルに詳細に書かれてて腑に落ちた。

特に、**チャンク**と**ビーコン**を用いた短期記憶への染み込ませ。

**長期記憶に保存するプロセス**が紹介されてて感激した。

以下、備忘録をまとめる

## コーディング中の混乱を紐解く

なんでコードが読めないかには 3 種類の混乱に分類される。

**混乱タイプ**

- 知識不足
- 情報不足
- 処理能力不足

### 知識不足

これまで経験してないコードは読めない。  
それは、**長期記憶で保持していない情報**情報が脳内に記録されていないから

### 情報不足

切り出されているプログラムの内部が脳内に記憶されていないと、読めない。

切り出されているプログラムが脳内に記憶されていれば解決できるモノは、**短期記憶の問題**

### 処理能力不足

プログラムが複雑で、脳内で再現できない場合は、ワーキングメモリがプログラムに追いついていない。
これは、**ワーキングメモリの問題**

## 記憶の 3 種類について

- 長期記憶
- 短期記憶
- ワーキングメモリ
- 感覚記憶

### 長期記憶

永続的に、記憶が保管される場所。ストレージ制限はない。

**PC に例えると:ハードディスク**

### 短期記憶

ほぼ一瞬記憶を保持できる場所。保持できる記憶の個数は、7 つ前後らしい。
短期記憶の保存期間は、およそ 30 秒ほど

- [マジカルナンバー 7±2（ミラーの法則）](https://makitani.net/shimauma/magical-number-seven-plus-or-minus-two)

**PC に例えると:RAM、キャッシュ**

### ワーキングメモリ

新しいアイディア、問題解決方法が形成される場所

エディタに書いてあるコードを脳内で再現しようとすること:トレース [^1]

[^1]: 脳みそでコードをコンパイル、実行すること

**PC に例えると:プロセッサ**

脳が情報を外部に記録する必要を感じている場合、ワーキングメモリの容量が上限に近い可能性がある。

### 感覚記憶

マウス、キーボードのような入力装置のようなもの
アイコニックメモリ

## コードを速読する

経験豊富な開発者でも、早く読めないコードが存在する。

プログラマーの仕事の 6 割はコードを読むこと。

本来書くことのほうが少ないはずなのだ。

コードを読んでいる時の脳内の動きを知ることは、今後詰まった時の脱出にも役立つ。

```
プログラムは人間が読むために書かれ、機械が実行するのは、そのついででなければならない。
```

`feature`に関わるそコードを特定できれば、コードに立ち戻る回数を減らすことができる。

### プログラムの再現

API を叩いて、取得したデータを加工して表示するプログラムがあったとき、僕だったら java で書かれていても、長期記憶から取り出せないため、調べて書く必要がある。それは時間がかかることだ。

java 経験者であれば、長期記憶にロジックを持っているため、未経験の僕よりも短い時間でコードを書けるのは当然だ。

また、コメントも良い手法。
これから各コードを自然言語で書き出しておくことで、プログラムする必要があるソースを準立てることができるからだ。

### 経験豊富な開発者でも鈍る。

プログラムの前提が共有されていなかったり、イテレータがあまり使われないものだったり、プログラム名が違和感のある名前であることは、速読の足を引っ張る行為になる

### なんで馴染みのないコードを読むのは難しい？

馴染みがないコードは、長期記憶から引き出せないし、短期記憶に情報を保持できる時間は、30 秒ほどと言われている、他にもワーキングメモリへの負担を考えると、脳みその処理速度への負担が高まるからだ。

そのため負担の少ないコードを書く必要がある。

### チャンク

組み合わせや、パターン、法則、型などの塊で記憶すること。
チャンクの塊で記憶できるため、チャンクの塊 1 つが、短期記憶の 6 文字の 1 つ分とされているため、チャンク化することで短期記憶に多くの情報を保持できる。

```
そのため、チャンク単位で長期記憶にコードパターンを持っていない、初心者プログラマーは、熟練者より少ないコードしか処理ができない。
```

### アイコニックメモリとコード

意図してなくても、視覚的に入った情報は、アイコニックメモリとして無意識に記憶される。

でも全てが短期記憶に入るわけではない。

この機能を使って

```
短期間コードを見て、何を見たのかを振り返る。
コードの最初のイメージをつかむことに役立つ
```

### 何を覚えているかではなく、どのように覚えたかも重要

読んだばかりのコードを再現する、調べることは自分の誤った理解を把握するために良い診断ツールになる。

また、プログラムの順序を理解することも必要

下の単語を記憶する。

```
string case or null else step do
for while true is real then of
false bit long and short if end
```

この場合、初学者は、文章化して覚えがち

```
true is real then false
```

上級者は、下のようにプログラミングとして長期記憶と紐付けやすい形に置換していた

```
{true,false}
{if,then,else}
```

### チャンク化しやすいコードを書く方法

コードを覚えてチャンク化の練習をしているとどのようなコードがチャンク化しやすいか直感的にわかるようになってくるらしい。

### デザインパターンを利用する

[デザインパターン](https://www.patterns.dev/#patterns)

### コメントを書く

初学者ほど、熟練者よりもコメントを書いている。  
それは、コードが長期記憶に蓄積されていないから、日本語で理解してワーキングメモリを消費して理解しているからだ。

でもおそらく、補語的なコメントはあったら助かる。

### ビーコンを残す

コードを眺めた時に目にとまるやつ
単純ビーコン：`root`、`tree`みたいな変数名

```
+, > , &&などの演算子
if,elseなどの制御構造
```

複合的ビーコン：単純なビーコンが複数連なって構成される大きなコード構造のこと

自分で書いたコードを要約して考える

## part 3 を読んだ

プログラミング言語の文法を早く習得する方法だった。

- 長い時間をかけて反復復習する（1 回/月のペース）
- フラッシュカードを使った方法(Anki,Quizlet)

```
// この方法であれば、記憶に定着しやすい
12個の単語を1日68回、翌日7回（合計75回）
もしくは、38回を3日
```

### 記憶の減退

1 時間後には、半分、2 日後には、学んだことの 25%の記憶しか残らない
でもこれは、記憶から情報の取り出す行為をしなかった場合のことだ。

### 貯蔵強度、検索強度

- 貯蔵強度:九九みたいなやつ。脳内に当たり前として刻まれている事象。
- 検索強度:めっちゃ知ってるんだけど、思い出せない。。。は、検索強度が弱い。

---

<br>

情報は、見るだけでは不十分。

情報を覚えることで、記憶が強化される。

能動的に考えることで、記憶を強化する。

思考と、情報が頭の中で整理されたものを**スキーマ**と呼ぶ

「保持している記憶と情報の結びつけ」これをすることで、スキーマ状態にしやすい